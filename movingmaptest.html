<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>dragable divs</title>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
 <link type="text/css" rel="stylesheet" media="screen" href="game.css"></link>
 <script language="javascript">
// start dragging
function startDrag(e) {
	// determine event object
	if(!e) { var e=window.event };

	// determine target element
	var targ=e.target?e.target:e.srcElement;
	if(targ.className!='draggable') { return };

	// calculate event X,Y coordinates
	offsetX=e.clientX;
	offsetY=e.clientY;

	// assign default values for top and left properties
	if(!targ.style.left) { targ.style.left='0px' };
	if(!targ.style.top) { targ.style.top='0px' };

	// calculate integer values for top and left properties
	coordX=parseInt(targ.style.left);
	coordY=parseInt(targ.style.top);
	drag=true;

	// move div element
	document.onmousemove=dragDiv;
}

// continue dragging
function dragDiv(e) {
	if(!drag) { return };
	if(!e) { var e=window.event };

	var targ=e.target?e.target:e.srcElement;

	// move div element
	targ.style.left=coordX+e.clientX-offsetX+'px';
	targ.style.top=coordY+e.clientY-offsetY+'px';
	return false;
}

// stop dragging
function stopDrag(e) {
	drag=false;

	if(!e) { var e=window.event };
	var targ=e.target?e.target:e.srcElement;

	//targ.innerHTML = "moved from x=" + coordX + "\n";
}

window.onload=function() {
	document.onmousedown=startDrag;
	document.onmouseup=stopDrag;
}
 </script>

 <style type="text/css">
.draggable {
	position: relative;
	background-color: #ccc;
	border: 1px solid #000;
}
 </style>
</head>

<body onselectstart='return false;' ondrag='return false;'>


 <div class="draggable" style="width: 300px; height 300px;" id='bb'>
  Some text
 </div>

 <iframe class="draggable" style="width: 250px; height: 250px; -moz-user-select: none; display:clipped" src="http://www.zot.org/~hamish/cities/showmap.cgi?1+10+1+10" id="cc">
 </iframe>

 <img class="draggable" style="-moz-user-select: none;" src="http://www.zot.org/~hamish/cities/map.cgi?t=mm&x=10&y=8">

 <div class="draggable" style="width: 300px; height 300px;" id='bb'>
  <div id='themap' style="display:clipped; position:relative">
   ajax fills this in
	CSS: html help . com
  </div>
 </div>






</body>
</html>


